(()=>{var e={};e.id=83,e.ids=[83],e.modules={2518:e=>{"use strict";e.exports=require("mongodb")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},4432:(e,t,n)=>{"use strict";n.r(t),n.d(t,{patchFetch:()=>h,routeModule:()=>y,serverHooks:()=>m,workAsyncStorage:()=>w,workUnitAsyncStorage:()=>f});var s={};n.r(s),n.d(s,{DELETE:()=>d,GET:()=>g,POST:()=>c,PUT:()=>u});var o=n(2706),r=n(8203),a=n(5994),i=n(2518);let p="mongodb://localhost:27017",l="next-app";async function c(e){let t=await e.json(),n=t.fullname,s=t.username,o=t.title,r=t.type,a=t.content;try{let e=await i.MongoClient.connect(p,{useNewURLParser:!0,useUnifiedTopology:!0}),t=e.db(l).collection("blogs"),c={title:o,fullname:n,type:r,username:s,content:a,createdAt:new Date().toLocaleDateString()};return await t.insertOne(c),e.close(),new Response(JSON.stringify({status:!0,message:"Blog Inserted !!"}),{headers:{"Content-Type":"application/json"}})}catch(e){return console.log(e),new Response(JSON.stringify({status:!1,message:"Internal Server Error !!"}),{headers:{"Content-Type":"application/json"}})}}async function u(e){let{id:t,title:n,fullname:s,type:o,username:r,content:a}=await e.json();try{let e=await i.MongoClient.connect(p,{useNewURLParser:!0,useUnifiedTopology:!0}),c=e.db(l).collection("blogs"),u=await c.updateOne({_id:new i.ObjectId(t)},{$set:{title:n,fullname:s,type:o,username:r,content:a,createdAt:new Date().toLocaleDateString()}});if(e.close(),u.modifiedCount>0)return new Response(JSON.stringify({status:!0,message:"Blog Updated !!"}),{headers:{"Content-Type":"application/json"}});return new Response(JSON.stringify({status:!1,message:"Blog Not Updated !!"}),{headers:{"Content-Type":"application/json"}})}catch(e){return console.log(e),new Response(JSON.stringify({status:!1,message:"Internal Server Error !!"}),{headers:{"Content-Type":"application/json"}})}}async function d(e){let{id:t}=await e.json();try{let e=await i.MongoClient.connect(p,{useNewURLParser:!0,useUnifiedTopology:!0}),n=e.db(l).collection("blogs"),s=await n.deleteOne({_id:new i.ObjectId(t)});if(e.close(),s.deletedCount>0)return new Response(JSON.stringify({status:!0,message:"Blog Deleted !!"}),{headers:{"Content-Type":"application/json"}});return new Response(JSON.stringify({status:!1,message:"Blog  Not Not !!"}),{headers:{"Content-Type":"application/json"}})}catch(e){return console.log(e),new Response(JSON.stringify({status:!1,message:"Internal Server Error !!"}),{headers:{"Content-Type":"application/json"}})}}async function g(e){try{let e=await i.MongoClient.connect(p,{useNewURLParser:!0,useUnifiedTopology:!0}),t=e.db(l).collection("blogs"),n=await t.find().toArray();return e.close(),new Response(JSON.stringify({status:!0,message:n}),{headers:{"Content-Type":"application/json"}})}catch(e){return console.log(e),new Response(JSON.stringify({status:!1,message:"Internal Server Error !!"}),{headers:{"Content-Type":"application/json"}})}}let y=new o.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/product/route",pathname:"/api/product",filename:"route",bundlePath:"app/api/product/route"},resolvedPagePath:"C:\\Super 30\\NextJS\\blog\\src\\app\\api\\product\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:w,workUnitAsyncStorage:f,serverHooks:m}=y;function h(){return(0,a.patchFetch)({workAsyncStorage:w,workUnitAsyncStorage:f})}},6487:()=>{},8335:()=>{},2706:(e,t,n)=>{"use strict";e.exports=n(4870)}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[994],()=>n(4432));module.exports=s})();